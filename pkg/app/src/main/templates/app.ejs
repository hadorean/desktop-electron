<!doctype html>
<html lang="en" data-theme="night">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>☀️</text></svg>">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= title %></title>
    <% if (isRapidDev) { %>
      <!-- Development mode - load from Vite dev server -->
      <script type="module" src="<%= assets.js %>"></script>
      <!-- CSS is handled by Vite in dev mode -->
    <% } else { %>
      <!-- Production mode - load built assets -->
      <script type="module" crossorigin src="/app/assets/<%= assets.js %>"></script>
      <link rel="stylesheet" crossorigin href="/app/assets/<%= assets.css %>">
    <% } %>
  </head>
  <body>
    <div id="app"></div>
    
    <!-- Inject server data for client access -->
    <script>
      window.__SERVER_DATA__ = <%- JSON.stringify({ timestamp, route, query, screenId, userAgent, serverUrl }) %>;
    </script>
  </body>
</html>